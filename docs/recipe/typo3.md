<!-- DO NOT EDIT THIS FILE! -->
<!-- Instead edit recipe/typo3.php -->
<!-- Then run bin/docgen -->

# How to Deploy a TYPO3 Project

```php
require 'recipe/typo3.php';
```

[Source](/recipe/typo3.php)

Deployer is a free and open source deployment tool written in PHP. 
It helps you to deploy your TYPO3 application to a server. 
It is very easy to use and has a lot of features. 

Three main features of Deployer are:
- **Provisioning** - provision your server for you.
- **Zero downtime deployment** - deploy your application without a downtime.
- **Rollbacks** - rollback your application to a previous version, if something goes wrong.

Additionally, Deployer has a lot of other features, like:
- **Easy to use** - Deployer is very easy to use. It has a simple and intuitive syntax.
- **Fast** - Deployer is very fast. It uses parallel connections to deploy your application.
- **Secure** - Deployer uses SSH to connect to your server.
- **Supports all major PHP frameworks** - Deployer supports all major PHP frameworks.

You can read more about Deployer in [Getting Started](/docs/getting-started.md).

The [deploy](#deploy) task of **TYPO3** consists of:
* [deploy:info](/docs/recipe/deploy/info.md#deploy-info) – Displays info about deployment
* [deploy:setup](/docs/recipe/deploy/setup.md#deploy-setup) – Prepares host for deploy
* [deploy:lock](/docs/recipe/deploy/lock.md#deploy-lock) – Locks deploy
* [deploy:release](/docs/recipe/deploy/release.md#deploy-release) – Prepares release
* [typo3:update_code](/docs/recipe/typo3.md#typo3-update_code) – 
* [deploy:shared](/docs/recipe/deploy/shared.md#deploy-shared) – Creates symlinks for shared files and dirs
* [deploy:writable](/docs/recipe/deploy/writable.md#deploy-writable) – Makes writable dirs
* [deploy:vendors](/docs/recipe/deploy/vendors.md#deploy-vendors) – Installs vendors
* [typo3:cache:warmup](/docs/recipe/typo3.md#typo3-cache-warmup) – TYPO3 - Cache warmup for system caches
* [typo3:extension:setup](/docs/recipe/typo3.md#typo3-extension-setup) – TYPO3 - Set up all extensions
* [typo3:language:update](/docs/recipe/typo3.md#typo3-language-update) – TYPO3 - Update the language files of all activated extensions
* [typo3:cache:flush](/docs/recipe/typo3.md#typo3-cache-flush) – TYPO3 - Cache clearing for frontend caches
* [typo3:cache:pages:warmup](/docs/recipe/typo3.md#typo3-cache-pages-warmup) – TYPO3 - Cache warmup for frontend caches
* [deploy:unlock](/docs/recipe/deploy/lock.md#deploy-unlock) – Unlocks deploy
* [deploy:cleanup](/docs/recipe/deploy/cleanup.md#deploy-cleanup) – Cleanup old releases
* [deploy:success](/docs/recipe/common.md#deploy-success) – Deploys your project


The typo3 recipe is based on the [common](/docs/recipe/common.md) recipe.

## Configuration
### composer_config
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L10)



```php title="Default value"
return json_decode(file_get_contents('./composer.json'), true, 512, JSON_THROW_ON_ERROR);
```


### typo3_webroot
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L17)

DocumentRoot / WebRoot for the TYPO3 installation
:::info Autogenerated
The value of this configuration is autogenerated on access.
:::




### bin/typo3
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L30)

Path to TYPO3 cli
:::info Autogenerated
The value of this configuration is autogenerated on access.
:::




### log_files
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L43)

Log files to display when running `./vendor/bin/dep logs:app`

```php title="Default value"
'var/log/typo3_*.log'
```


### shared_dirs
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L48)

Overrides [shared_dirs](/docs/recipe/deploy/shared.md#shared_dirs) from `recipe/deploy/shared.php`.

Shared directories

```php title="Default value"
[
    '{{typo3_webroot}}/fileadmin',
    '{{typo3_webroot}}/typo3temp',
    'var/session',
    'var/log',
    'var/lock',
    'var/charset',
]
```


### shared_files
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L60)

Overrides [shared_files](/docs/recipe/deploy/shared.md#shared_files) from `recipe/deploy/shared.php`.

Shared files

```php title="Default value"
[
    'config/system/settings.php',
    '.env',
]
```


### writable_dirs
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L68)

Overrides [writable_dirs](/docs/recipe/deploy/writable.md#writable_dirs) from `recipe/deploy/writable.php`.

Writeable directories

```php title="Default value"
[
    '{{typo3_webroot}}/fileadmin',
    '{{typo3_webroot}}/typo3temp',
    'var',
]
```


### composer_options
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L77)

Overrides [composer_options](/docs/recipe/deploy/vendors.md#composer_options) from `recipe/deploy/vendors.php`.

Composer options

```php title="Default value"
' --no-dev --verbose --prefer-dist --no-progress --no-interaction --optimize-autoloader'
```


### use_rsync
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L83)

If set in the config this recipe uses rsync. Default: false (use the Git repository)

```php title="Default value"
false
```


### update_code_task
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L85)



```php title="Default value"
return get('use_rsync') ? 'rsync' : 'deploy:update_code';
```


### rsync
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L112)



```php title="Default value"
[
    'exclude' => array_merge(get('shared_dirs'), get('shared_files'), $exclude),
    'exclude-file' => false,
    'include' => ['vendor'],
    'include-file' => false,
    'filter' => ['dir-merge,-n /.gitignore'],
    'filter-file' => false,
    'filter-perdir' => false,
    'flags' => 'avz',
    'options' => ['delete', 'keep-dirlinks', 'links'],
    'timeout' => 600,
]
```



## Tasks

### typo3\:update_code {#typo3-update_code}
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L89)






### typo3\:cache\:warmup {#typo3-cache-warmup}
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L126)

TYPO3 - Cache warmup for system caches.




### typo3\:cache\:flush {#typo3-cache-flush}
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L132)

TYPO3 - Cache clearing for frontend caches.




### typo3\:cache\:pages\:warmup {#typo3-cache-pages-warmup}
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L138)

TYPO3 - Cache warmup for frontend caches.




### typo3\:language\:update {#typo3-language-update}
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L144)

TYPO3 - Update the language files of all activated extensions.




### typo3\:extension\:setup {#typo3-extension-setup}
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L150)

TYPO3 - Set up all extensions.




### deploy {#deploy}
[Source](https://github.com/deployphp/deployer/blob/master/recipe/typo3.php#L159)

Deploys a TYPO3 project.

Configure "deploy" task group.


This task is group task which contains next tasks:
* [deploy:info](/docs/recipe/deploy/info.md#deploy-info)
* [deploy:setup](/docs/recipe/deploy/setup.md#deploy-setup)
* [deploy:lock](/docs/recipe/deploy/lock.md#deploy-lock)
* [deploy:release](/docs/recipe/deploy/release.md#deploy-release)
* [typo3:update_code](/docs/recipe/typo3.md#typo3-update_code)
* [deploy:shared](/docs/recipe/deploy/shared.md#deploy-shared)
* [deploy:writable](/docs/recipe/deploy/writable.md#deploy-writable)
* [deploy:vendors](/docs/recipe/deploy/vendors.md#deploy-vendors)
* [typo3:cache:warmup](/docs/recipe/typo3.md#typo3-cache-warmup)
* [typo3:extension:setup](/docs/recipe/typo3.md#typo3-extension-setup)
* [typo3:language:update](/docs/recipe/typo3.md#typo3-language-update)
* [typo3:cache:flush](/docs/recipe/typo3.md#typo3-cache-flush)
* [typo3:cache:pages:warmup](/docs/recipe/typo3.md#typo3-cache-pages-warmup)
* [deploy:unlock](/docs/recipe/deploy/lock.md#deploy-unlock)
* [deploy:cleanup](/docs/recipe/deploy/cleanup.md#deploy-cleanup)
* [deploy:success](/docs/recipe/common.md#deploy-success)


